<!DOCTYPE html>
<head>
    <title>Todo App</title>
    <link rel="stylesheet" href="/static/stylesheets/style.css" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Baloo+Bhai|Candal|Chewy&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
    integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.js"></script>
</head>

<body>
    <div class="todo-container">
        <h2>To-Do List</h2>


        <!--COLOR PICKER BUTTON AND SCRIPT-->
        <div class="color-picker-container">
            <label for="color-picker">Change Background Color:</label>
            <input type="text" id="color-picker" name="color-picker" value="#ffffff" /></br>
        </div>

        <style>
            .color-picker-container {
                margin-top: 20px;
            }
        </style>

        <script>

            $(document).ready(function () {
                // Get the body element
                const body = $('body');
              

                // Initialize the color picker
                $("#color-picker").spectrum({
                    color: body.css("background-color"),
                    showInput: true,
                    showInitial: true,
                    showPalette: true,
                    passive: false,
                    preferredFormat: "hex",
                    change: function (color) {
                        // Update the background color when the user selects a new color
                        body.css("background-color", color.toHexString());
                    }
                });
            });

         
            
        </script>

        <!-- Search form -->
        <div id="textIdentifier" class="search-container">
            <form action="/" method="GET" class="search-bar">
              <input type="text" name="searchQuery" class="search-input" placeholder="Search tasks...">
              <button type="submit" class="search-button"><span class="fas fa-search"></span></button>
            </form>
          </div>
        
        <div class="todo">
            <form action="/" method="POST" class="todo-header">
                <input type="text" name="content">
                <button type="submit"><span class="fas fa-plus"></span></button>
            </form>

            <ul class="todo-list" id="textIdentifier" >
                <% todoTasks.forEach(details => { %>
                <li class="todo-list-item">
                <div class="todo-list-item-name" id="" style="color: white;"><%= details.content %></div>
                <a href="/edit/<%= details._id %>" class="edit">
                <span class="fas fa-edit"></span>
                </a>
                <a href="/remove/<%= details._id %>" class="remove">
                <span class="fas fa-times"></span>
                </a>
                </li>
                <% }) %>
            </ul> 
        </div>
    </div>
</body>
